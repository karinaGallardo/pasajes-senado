{{ define "usuarios/table_senadores" }}
<table class="min-w-full divide-y divide-gray-200">
  <thead class="bg-gray-50">
    <tr>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10">#</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Senador Titular</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Senador Suplente</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Departamento</th>
    </tr>
  </thead>
  <tbody class="divide-y divide-gray-200 bg-white">
    {{ range $index, $user := .Usuarios }}
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-medium">{{ inc $index }}</td>
      <td class="px-6 py-4 whitespace-nowrap border-r border-gray-100">
        <div class="text-sm text-gray-900 font-bold">{{ $user.GetNombreCompleto }}</div>
        <div class="text-[11px] text-gray-500 font-medium">CI: {{ $user.CI }}</div>

        <div class="mt-1 space-y-0.5">
          {{ if $user.Email }}
          <div class="text-[10px] text-gray-400 flex items-center">
            <svg class="w-2.5 h-2.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
            {{ $user.Email }}
          </div>
          {{ end }} {{ if $user.Phone }}
          <div class="text-[10px] text-gray-400 flex items-center">
            <svg class="w-2.5 h-2.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            {{ $user.Phone }}
          </div>
          {{ end }}
        </div>

        <div class="flex space-x-2 mt-2">
          <a
            href="/solicitudes/derecho/nueva/{{ $user.ID }}"
            class="text-[10px] text-indigo-600 hover:text-indigo-900 font-bold bg-indigo-50 px-1.5 py-0.5 rounded border border-indigo-100 transition-colors">
            Solicitar
          </a>
          <button
            class="text-[10px] text-senado-primary hover:text-senado-900 font-bold bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 transition-colors"
            hx-get="/usuarios/{{ $user.ID }}/editar"
            hx-target="#modal-container"
            @click="modalOpen = true">
            Editar Titular
          </button>
        </div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap">
        {{ $suplente := $user.GetSuplente }} {{ if $suplente }}
        <div class="text-sm text-gray-900 font-bold">{{ $suplente.GetNombreCompleto }}</div>
        <div class="text-[11px] text-gray-500 font-medium">CI: {{ $suplente.CI }}</div>

        <div class="mt-1 space-y-0.5">
          {{ if $suplente.Email }}
          <div class="text-[10px] text-gray-400 flex items-center">
            <svg class="w-2.5 h-2.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
            {{ $suplente.Email }}
          </div>
          {{ end }} {{ if $suplente.Phone }}
          <div class="text-[10px] text-gray-400 flex items-center">
            <svg class="w-2.5 h-2.5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            {{ $suplente.Phone }}
          </div>
          {{ end }}
        </div>

        <div class="flex space-x-2 mt-2">
          <a
            href="/solicitudes/derecho/nueva/{{ $suplente.ID }}"
            class="text-[10px] text-indigo-600 hover:text-indigo-900 font-bold bg-indigo-50 px-1.5 py-0.5 rounded border border-indigo-100 transition-colors">
            Solicitar
          </a>
          <button
            class="text-[10px] text-senado-primary hover:text-senado-900 font-bold bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 transition-colors"
            hx-get="/usuarios/{{ $suplente.ID }}/editar"
            hx-target="#modal-container"
            @click="modalOpen = true">
            Editar Suplente
          </button>
        </div>
        {{ else }}
        <span class="text-gray-400 italic text-xs">Sin suplente asignado</span>
        {{ end }}
      </td>
      <td class="px-6 py-4 whitespace-nowrap">
        {{ if $user.Departamento }}
        <div class="text-[11px] text-indigo-600 font-bold uppercase tracking-tighter">{{ $user.Departamento.Nombre }}</div>
        {{ end }}
      </td>
    </tr>
    {{ end }}
  </tbody>
</table>
{{ end }}
