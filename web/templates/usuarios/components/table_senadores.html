{{ define "usuarios/components/table_senadores" }}
<table class="min-w-full divide-y divide-gray-200">
  <thead class="bg-neutral-50">
    <tr>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider w-10">#</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Senador Titular</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Senador Suplente</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Departamento</th>
    </tr>
  </thead>
  <tbody class="divide-y divide-gray-200 bg-white">
    {{ range $index, $user := .Usuarios }}
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-neutral-500 font-medium">{{ inc $index }}</td>
      <td class="px-6 py-4 whitespace-nowrap border-r border-neutral-100">
        <div class="text-sm text-neutral-900 font-bold">{{ $user.GetNombreCompleto }}</div>
        <div class="text-[11px] text-neutral-500 font-medium">CI: {{ $user.CI }}</div>

        <div class="mt-1 space-y-0.5">
          {{ if $user.Email }}
          <div class="text-[10px] text-neutral-400 flex items-center">
            <i class="ph ph-envelope text-xs mr-1"></i>
            {{ $user.Email }}
          </div>
          {{ end }} {{ if $user.Phone }}
          <div class="text-[10px] text-neutral-400 flex items-center">
            <i class="ph ph-phone text-xs mr-1"></i>
            {{ $user.Phone }}
          </div>
          {{ end }}
        </div>

        <div class="flex space-x-2 mt-2">
          <a
            href="/cupos/derecho/{{ $user.ID }}"
            class="text-[10px] text-primary-600 hover:text-primary-900 font-bold bg-primary-50 px-1.5 py-0.5 rounded border border-primary-100 transition-colors">
            Ver Cupos
          </a>
          <button
            class="text-[10px] text-primary hover:text-primary-900 font-bold bg-neutral-50 px-1.5 py-0.5 rounded border border-neutral-100 transition-colors"
            hx-get="/usuarios/{{ $user.ID }}/editar"
            hx-target="#modal-container">
            Editar Titular
          </button>
        </div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap">
        {{ $suplente := $user.GetSuplente }} {{ if $suplente }}
        <div class="text-sm text-neutral-900 font-bold">{{ $suplente.GetNombreCompleto }}</div>
        <div class="text-[11px] text-neutral-500 font-medium">CI: {{ $suplente.CI }}</div>

        <div class="mt-1 space-y-0.5">
          {{ if $suplente.Email }}
          <div class="text-[10px] text-neutral-400 flex items-center">
            <i class="ph ph-envelope text-xs mr-1"></i>
            {{ $suplente.Email }}
          </div>
          {{ end }} {{ if $suplente.Phone }}
          <div class="text-[10px] text-neutral-400 flex items-center">
            <i class="ph ph-phone text-xs mr-1"></i>
            {{ $suplente.Phone }}
          </div>
          {{ end }}
        </div>

        <div class="flex space-x-2 mt-2">
          <a
            href="/cupos/derecho/{{ $suplente.ID }}"
            class="text-[10px] text-primary-600 hover:text-primary-900 font-bold bg-primary-50 px-1.5 py-0.5 rounded border border-primary-100 transition-colors">
            Ver Cupos
          </a>
          <button
            class="text-[10px] text-primary hover:text-primary-900 font-bold bg-neutral-50 px-1.5 py-0.5 rounded border border-neutral-100 transition-colors"
            hx-get="/usuarios/{{ $suplente.ID }}/editar"
            hx-target="#modal-container">
            Editar Suplente
          </button>
        </div>
        {{ else }}
        <span class="text-neutral-400 italic text-xs">Sin suplente asignado</span>
        {{ end }}
      </td>
      <td class="px-6 py-4 whitespace-nowrap">
        {{ if $user.Departamento }}
        <div class="text-[11px] text-primary-600 font-bold uppercase tracking-tighter">{{ $user.Departamento.Nombre }}</div>
        {{ end }}
      </td>
    </tr>
    {{ end }}
  </tbody>
</table>
{{ end }}
