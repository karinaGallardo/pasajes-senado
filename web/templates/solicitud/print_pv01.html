{{ define "solicitud/print_pv01.html" }}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Formulario PV-01 - Solicitud de Pasajes</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <style>
      @media print {
        body {
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
          padding: 0;
          margin: 0;
        }
        .no-print {
          display: none;
        }
        .page-break {
          page-break-after: always;
        }
      }
      body {
        font-family: "Times New Roman", serif;
      }
      .border-sl {
        border: 1px solid #000;
      }
      .bg-gray-custom {
        background-color: #f3f4f6;
      }
    </style>
  </head>
  <body class="bg-gray-100 p-8 print:p-0 print:bg-white text-sm">
    <!-- Action Bar -->
    <div class="no-print max-w-4xl mx-auto mb-6 flex justify-between items-center bg-white p-4 shadow rounded">
      <h1 class="text-lg font-bold">Vista Previa de Impresión</h1>
      <div>
        <button onclick="window.print()" class="bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 font-bold flex items-center">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2-4h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6a2 2 0 012-2zm9-2V3a2 2 0 00-2-2H8a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2z"></path>
          </svg>
          Imprimir Ahora
        </button>
      </div>
    </div>

    <!-- Page Content -->
    <div class="max-w-4xl mx-auto bg-white p-10 shadow print:shadow-none print:w-full">
      <!-- Header -->
      <div class="flex items-center justify-between mb-4 border-b-2 border-black pb-2">
        <div class="w-1/4">
          <!-- Placeholder Logo -->
          <div class="border-2 border-gray-400 h-20 w-20 flex items-center justify-center text-xs text-gray-400">LOGO SENADO</div>
        </div>
        <div class="w-2/4 text-center">
          <h1 class="font-bold text-xl uppercase">Cámara de Senadores</h1>
          <h2 class="font-bold text-lg uppercase">Estado Plurinacional de Bolivia</h2>
        </div>
        <div class="w-1/4 text-right">
          <div class="border border-black p-2 inline-block text-center bg-gray-100">
            <p class="font-bold text-lg">FORM-PV-01</p>
            <p class="text-xs">Solicitud de Pasajes</p>
          </div>
        </div>
      </div>

      <div class="text-center mb-6">
        <h3 class="font-bold text-lg underline uppercase">Solicitud de Pasajes Aéreos</h3>
        <p class="text-sm">
          N° Solicitud:
          <span class="font-mono text-lg font-bold">{{ .Solicitud.ID }}</span>
        </p>
        <p class="text-xs text-gray-500">Fecha de Solicitud: {{ .Solicitud.CreatedAt.Format "02/01/2006 15:04" }}</p>
      </div>

      <!-- Section 1: Datos del Solicitante -->
      <div class="mb-6 border-sl">
        <div class="bg-gray-200 p-1 border-b border-black font-bold uppercase text-center">1. Datos del Solicitante (Senador/Funcionario)</div>
        <div class="p-4 grid grid-cols-2 gap-4">
          <div>
            <span class="block text-xs font-bold uppercase">Nombre Completo:</span>
            <span class="block text-base border-b border-dotted border-black w-full">{{ .Solicitud.Usuario.GetNombreCompleto }}</span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Cédula de Identidad:</span>
            <span class="block text-base border-b border-dotted border-black w-full">{{ .Solicitud.Usuario.CI }}</span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Cargo / Rol:</span>
            <span class="block text-base border-b border-dotted border-black w-full">
              {{ if .Solicitud.Usuario.Rol }}{{ .Solicitud.Usuario.Rol.Nombre }}{{ else }}Sin Asignar{{ end }}
            </span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Unidad / Comisión:</span>
            <span class="block text-base border-b border-dotted border-black w-full">Cámara de Senadores</span>
          </div>
        </div>
      </div>

      <!-- Section 2: Datos del Viaje -->
      <div class="mb-6 border-sl">
        <div class="bg-gray-200 p-1 border-b border-black font-bold uppercase text-center">2. Detalle del Viaje</div>
        <div class="p-4 grid grid-cols-2 gap-4">
          <div>
            <span class="block text-xs font-bold uppercase">Tipo de Solicitud:</span>
            <span class="block text-base border-b border-dotted border-black w-full">{{ .Solicitud.TipoSolicitud.Nombre }}</span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Itinerario:</span>
            <span class="block text-base border-b border-dotted border-black w-full">{{ .Solicitud.TipoItinerario.Nombre }}</span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Lugar de Origen:</span>
            <span class="block text-base border-b border-dotted border-black w-full">{{ .Solicitud.Origen.Nombre }} ({{ .Solicitud.OrigenCode }})</span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Lugar de Destino:</span>
            <span class="block text-base border-b border-dotted border-black w-full">{{ .Solicitud.Destino.Nombre }} ({{ .Solicitud.DestinoCode }})</span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Fecha de Salida:</span>
            <span class="block text-base border-b border-dotted border-black w-full">
              {{ if .Solicitud.FechaIda }}{{ .Solicitud.FechaIda.Format "02/01/2006 15:04" }}{{ else }} - {{ end }}
            </span>
          </div>
          <div>
            <span class="block text-xs font-bold uppercase">Fecha de Retorno:</span>
            <span class="block text-base border-b border-dotted border-black w-full">
              {{ if .Solicitud.FechaVuelta }}{{ .Solicitud.FechaVuelta.Format "02/01/2006 15:04" }}{{ else }} - {{ end }}
            </span>
          </div>
          <div class="col-span-2">
            <span class="block text-xs font-bold uppercase">Línea Aérea Sugerida:</span>
            <span class="block text-base border-b border-dotted border-black w-full">
              {{ if .Solicitud.AerolineaSugerida }}{{ .Solicitud.AerolineaSugerida }}{{ else }} Sin preferencia {{ end }}
            </span>
          </div>
        </div>
      </div>

      <!-- Section 3: Justificación -->
      <div class="mb-6 border-sl">
        <div class="bg-gray-200 p-1 border-b border-black font-bold uppercase text-center">3. Justificación / Motivo del Viaje</div>
        <div class="p-4 min-h-[100px]">
          <p>{{ .Solicitud.Motivo }}</p>
        </div>
      </div>

      <!-- Section 4: Firmas -->
      <div class="mt-20 grid grid-cols-3 gap-8 text-center break-inside-avoid">
        <div>
          <div class="border-t border-black pt-2 mx-4">
            <p class="font-bold uppercase text-xs">{{ .Solicitud.Usuario.GetNombreCompleto }}</p>
            <p class="text-xs text-gray-500">SOLICITANTE</p>
          </div>
        </div>
        <div>
          <div class="border-t border-black pt-2 mx-4">
            <p class="font-bold uppercase text-xs">Jefe Inmediato / Autoridad</p>
            <p class="text-xs text-gray-500">AUTORIZACIÓN</p>
          </div>
        </div>
        <div>
          <div class="border-t border-black pt-2 mx-4">
            <p class="font-bold uppercase text-xs">Administración</p>
            <p class="text-xs text-gray-500">VERIFICACIÓN CUPO/PPTO</p>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="mt-10 border-t-2 border-gray-300 pt-2 text-center text-xs text-gray-400">
        <p>Sistema de Gestión de Pasajes - Cámara de Senadores - Impreso el {{ .Solicitud.CreatedAt.Format "02/01/2006" }}</p>
        <p>Formulario Generado Electrónicamente (ID: {{ .Solicitud.ID }})</p>
      </div>
    </div>
  </body>
</html>
{{ end }}
